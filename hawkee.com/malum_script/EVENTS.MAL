on 1:BAN:#: {
  if ($nick == $me) { halt } | if ($readini $mircdirver.ini Bprotect $banmask == on) && ($me isop $chan) { mode $chan -bo+b $banmask $nick $address($nick,3) | kick $nick Don't you EVER ban $banmask again!!!! | halt } 
  if (. isin $nick) && ($banmask isin $address($me,6)) { echo 4 -a *** Server ban detected on you ( $+ $banmask $+ ) from $nick | echo 4 -a *** Attempting to unban... | if ($me isop $chan) { mode $chan -b $banmask | echo 4 -a *** Sucessful unban! | halt } | else { echo 4 -a *** Unban failed! | halt } } 
  if ($isme($nick) == $true) { halt } | else { set %plmn 0 | goto start } | :start | inc %plmn | if (%plmn >= 10) { unset %plmn | goto end } 
  if ($me isop $chan) && ($banmask == $address($me,%plmn)) || ($ip == $banmask) { mode $chan -ob $nick $banmask | ban $chan $nick 3 | kick $chan $nick Ban PROTECTION enabled for ME by ME! | unset %plmn | halt } | else goto start 
  if ($me !isop $chan) && ($banmask isin $address($me,%plmn)) || ($ip == $banmask) { echo 2 -a *** $nick just banned you on $chan $+ ! If you'd like to shitlist this user type "/shitlist $nick $+ " NOW! } | :end
  if (%mban == on) && ($me isop $chan) { inc % [ $+ [ $site [ $+ [ ban ] ] ] ] | .timer 1 5 /unset % [ $+ [ $site [ $+ [ ban ] ] ] ] | if (% [ $+ [ $site [ $+ [ ban ] ] ] ] >= %mnum) { /kick $chan $nick Yo regla uds. mama y la reglas perro's! | /ban -u15 $chan $nick 2 } }
}
on 1:DEOP:#: {
  if ($isme($nick) == $true) { halt }
  if (dprotect isin $level($address($opnick,3))) { mode $chan -o+o $nick $opnick }
  if (%mdop == on) {
    inc % [ $+ [ $site [ $+ [ deop ] ] ] ] 
    .timer 1 5 /unset % [ $+ [ $site [ $+ [ deop ] ] ] ] 
    if (% [ $+ [ $site [ $+ [ deop ] ] ] ] >= %mnum) && ($me isop $chan) { kick $chan $nick Mass Deop Protection!!! }
  goto end }
  if ($opnick == $nick) { halt }
  if (%revenge == on) && ($opnick == $me) { set %rn [ $+ [ $nick ] ] $address($nick,3) | set %rnchan $chan }
  else goto end
  :end
}
on 1:KICK:#: {
  if ($isme($nick) == $true) { goto end }
  if (%mkick == on) {
    inc %k [ $+ [ $site [ $+ [ kick ] ] ] ] 
    .timer 1 10 /unset %k [ $+ [ $site [ $+ [ kick ] ] ] ] 
    if (%k [ $+ [ $site [ $+ [ kick ] ] ] ] >= %mnum) && ($me isop $chan) { mode $chan -o $nick | kick $chan $nick Mass Kick Protection Activated! }
  goto end }
  if ($knick == $nick) { halt }
  if (%revenge == on) && ($knick == $me) { set %rn [ $+ [ $nick ] ] $address($nick,3) | set %rnchan $chan }
  else goto end
  :end
  if ($knick == $nick) { halt } | if (kprotect isin $level($address($knick,3))) && ($me isop $chan) { kick $chan $nick Sorry $nick but 2 $+ $knick $address($knick,1) $+  is protected! }
  else goto end2
  :end2
}
on 1:OP:#: {
  if (%revenge == on) && ($opnick == $me) && (%rnchan == $chan) {
    set %start 0
    :start
    inc %start
    if (%start > $nick(0,$chan)) { unset %start | unset %rn* | goto endc }
    if ($address($nick(%start,$chan),3) == %rn [ $+ [ $nick(%start,$chan) ] ]) { kick $chan $nick(%start,$chan) This is revenge bitch! | /ban -u15 $chan $nick(%start,$chan) 3 | /unset %rn [ $+ [ $nick(%start,$chan) ] ] | unset %rnchan | goto start }
    else goto start
  }
  :endc
}
on autoop:JOIN:#: {
  if ($me isop $chan) { mode $chan +o $nick } | else goto end | :end
}
on voice:JOIN:#: {
  if ($me isop $chan) { mode $chan +v $nick } | else goto end | :end
}
on 1:DEVOICE:#: {
  if ($nick == $me) { goto end } | if ($vnick != $nick) && (voice isin $level($address($vnick,3))) && ($me isop $chan) { mode $chan -o+v $nick $vnick | /.timer 1 10 /mode $chan +o $nick }
  else goto end | :end
}
#invite on
on 1:INVITE:#: { if ($isme($nick) == $true) { halt } | set %inchan $chan
  if (%i [ $+ [ $site ] ] == $null) { set %i [ $+ [ $site ] ] 0 | /.timer 1 20 /unset %i [ $+ [ $site ] ] | goto start }
  :start | inc %i [ $+ [ $site ] ] 
  if (%i [ $+ [ $site ] ] >= %cnum) { .ignore -iu20 *!*@ [ $+ [ $site ] ] | unset %i [ $+ [ $site ] ] }
  else { echo 12 -s *** $nick ( $+ $address $+ ) is inviting you to join: $chan (To join press F4) | halt } | halt
}
#invite end
#rawdns off
on 1:DNS:/.enable #rawclone | /raw -q privmsg $me : $+ $chr(1) $+ DCC CHAT CHAT $longip($iaddress) $port $+ $chr(1) | /.enable #dns1 | /.disable #rawdns 
#rawdns end
#dns2 off
on 1:DNS: { set %ipadd $iaddress | set %ban $left(10,%ipadd) | set %ban %ban $+ * | mode %chan +b %ban | unset %chan | unset %ipadd | unset %ban | .disable #dns2 | .enable #dns1 | halt }
#dns2 end
#sn on
on 1:SNOTICE:*Net*Break*: {
  if ($window(1) != @Stuff@) { /window -an @Stuff@ 200 500 800 312 stuff.pop News Gothic }
  if (%netbreaks == $null) set %netbreaks 0
  inc %netbreaks | aline @Stuff@ $u((3NetSplit!)) 4 $+ $6 $+  <------> 4 $+ $7 $+  ( $+ %netbreaks $+ )
  if ($server == $7) echo 12 -s  You're on a split server! ( $+ $server $+ )
  writeini $mircdir $+ other.ini NetSplits $adate $6 $7 | halt
}
on 1:SNOTICE:*Net*Junction*: {
  if ($window(1) != @Stuff@) { window -an @Stuff@ 200 500 800 312 stuff.pop News Gothic }
  if (%netjoins == $null) set %netjoins 0 | inc %netjoins | aline @Stuff@ $u((3NetJunction!)) 4 $+ $6 $+  <------> 4 $+ $7 $+  ( $+ %netjoins $+ )
  if ($server == $7) echo 12 -s Your server is merging with $6 $+ !
  writeini $mircdir $+ other.ini NetJunctions $adate $6 $7 | halt
}
on 1:SNOTICE:*is*now*operator*:/aline @Stuff@ ( $+ $rainbow($u(IRCop)) $+ ) $4 $5 is now an IRCop! | /halt 
on 1:SNOTICE:*Too*Many*:/halt
on 1:SNOTICE:*Can't allocate fd for auth on*:/halt
on 1:SNOTICE:*All connections in use*:/halt
on 1:SNOTICE:*Nick*Collision*:/halt
on 1:SNOTICE:*Older*nick*over*:/halt
on 1:SNOTICE:*Unauthorized*:/halt
on 1:SNOTICE:*Possible*Clone*attack*:/aline @Stuff@ 3 $+ $u((Clone Attack)) $+  $4- | halt
on 1:SNOTICE:*Received*kill*:/halt
on 1:SNOTICE:*HACK*:/halt
on 1:SNOTICE:*NET.RIDE*:/aline @Stuff@ 2 $+ $u((Server Notice)) $4- | halt
on 1:SNOTICE:*G-LINE*:/halt
on 1:SNOTICE:*GLINE*:/halt
on 1:SNOTICE:*Cannot*accept*connections*Protocol*error*:/halt
on 1:SNOTICE:*maximum*connections*:/halt
on 1:SNOTICE:*Invalid*username*:/halt
on 1:SNOTICE:*IP#*Mismatch*:/halt
on 1:SNOTICE:*Failed*in*connecting*:/halt
on 1:SNOTICE:*:/if ($window(1) != @Stuff@) { window -an @Stuff@ 200 500 800 312 stuff.pop News Gothic | goto start } | :start | /aline @Stuff@ 5 $+ $u((Server Notice)) $1- | /halt
#sn end
on 1:JOIN:#: {
  if ($isme($nick) == $true) { if (%uial == on) { set %ialgod 0 | set %ialclone 0 | set %ialhere 0 | set %ialgone 0 | set %ialop 0 | set %ialnoop 0 | set %ialvoice 0 | set %ialnov 0 | .enable #uial | /who $chan | /echo 4 -a *** Updating IAL for: $chan | halt } | halt }
  if ($readini $mircdirver.ini Shitonoff $address($nick,3) == on) {
    if ($shitchans($address($nick,3)) != *) { goto maybe } | :maybe | if ($shitchans($address($nick,3)) != $chan) { goto regsttext }
    if ($shitchans($address($nick,3)) == $chan) { ban $chan $nick 3 | kick $chan $nick $readini $mircdirver.ini Shitlist $address($nick,3) | halt }
    if ($shitchans($address($nick,3)) == *) { set %lk 0 | :startshit | inc %lk | if (%lk > $channel(0)) { unset %lk | halt } | if ($me isop $comchan($nick,%lk)) { ban $comchan($nick,%lk) $nick 3 | kick $comchan($nick,%lk) $nick $readini $mircdirver.ini Shitlist $address($nick,3) | goto startshit } | else { goto startshit } }
  else { goto regsttext } } | :regsttext
  if ($readini $mircdirver.ini Aoponoff $address($nick,3) == on) {
    if ($aopchans($address($nick,3)) != *) { goto maybe } | :maybe | if ($aopchans($address($nick,3)) != $chan) { goto regsttext2 }
    if ($aopchans($address($nick,3)) == $chan) { mode $chan +o $nick | halt }
    if ($aopchans($address($nick,3)) == *) { set %lk 0 | :startaop | inc %lk | if (%lk > $channel(0)) { unset %lk | halt } | if ($me isop $comchan($nick,%lk)) { mode $comchan($nick,%lkop) +o $nick | goto startaop } | else { goto startaop } }
  else { goto regsttext2 } } | :regsttext2  
  if (%filt == on) {
    set %r 0 | set %anum $token(0,32,%filter) | goto startwoo | :startwoo | inc %r | if (%r > %anum) { unset %r | unset %anum | goto end }
    if ($token(%r,32,%filter) isin $nick) { kick $chan $nick $token(%r,32,%filter) has been detected in your nick or address! Please remove it! | goto startwoo }
    if ($token(%r,32,%filter) isin $address($nick,1)) { kick $chan $nick Bad word detected in your address! | goto startwoo } 
  else goto startwoo } 
  if (%pingkick == on) && ($me isop $chan) { .ctcp $nick ping }
  if (%cljoin == on) { if ($ial($address($nick,2),0) isnum 2-3) {
      echo 13 $chan Clone joined: $nick $address($nick,2) | set %i 0 | :a | inc %i | if ($ial($address($nick,2),%i).nick == $null) { unset %cnick %i | halt } | set %cnick %cnick $ial($address($nick,2),%i).nick
      goto a } | if ($ial($address($nick,2),0) >= %clonesall) {
      echo 13 $chan Clone joined: $nick $address($nick,2) | set %i | :a | inc %i | if ($ial($address($nick,2),%i).nick == $null) { halt } | kick $chan $ial($address($nick,2),%i).nick Identical twins...? | goto a
  } } | :end | unset %anum | unset %r | :done
  if ($isbot($nick) == $true) { echo 4 $chan *** Channel Service Detected with $nick ( $+ $address $+ ) on $chan $+ ! }
  :final
}
on 1:PART:#: {
  if ($readini $mircdirver.ini Shitonoff $address($nick,3) == on) {
    if ($shitchans($address($nick,3)) != *) { goto maybe } | :maybe | if ($shitchans($address($nick,3)) != $chan) { goto regsttext }
    if ($shitchans($address($nick,3)) == $chan) { ban $chan $nick 3 | kick $chan $nick $readini $mircdirver.ini Shitlist $address($nick,3) | halt }
    if ($shitchans($address($nick,3)) == *) { set %lk 0 | :startshit | inc %lk | if (%lk > $channel(0)) { unset %lk | halt } | if ($me isop $comchan($nick,%lk)) { ban $comchan($nick,%lk) $nick 3 | kick $comchan($nick,%lk) $nick $readini $mircdirver.ini Shitlist $address($nick,3) | goto startshit } | else { goto startshit } }
  else { goto regsttext } } | :regsttext
  if ($me isop $chan) && (%filt == on) && ($nick != NickServ) && ($nick != X) && ($nick != W) && ($nick != ChanSvr) && ($nick != MemoSrv) {
    set %r 0 | set %anum $token(0,32,%filter) | goto startit | :startit | inc %r | if (%r > %anum) { unset %r | unset %anum | goto end }
    if ($token(%r,32,%filter) isin $nick) || ($token(%r,32,%filter) isin $address($nick,1)) { kick $chan $nick $token(%r,32,%filter) has been detected in your nick or address! Please remove it! | goto startit }
    else goto startit
    :end | unset %anum | unset %r
  }
}
on 1:NICK: {
  if (%filt == on) {
    set %r 0 | set %anum $token(0,32,%filter) | goto startit | :startit
    inc %r | if (%r > %anum) { unset %r | unset %anum | goto end } | if ($token(%r,32,%filter) isin $newnick) || ($token(%r,32,%filter) isin $address($nick,1)) { kick $chan $nick $token(%r,32,%filter) has been detected in your nick or address! Please remove it! | goto startit }
    else goto startit | :end | unset %anum | unset %r
  }
}
#text on
on 1:TEXT:*:#: {
  if ($1 == 0,0MaLum) { set %whosaid $nick $+ . | set %whosaid %whosaid $+ $chan | echo 1 -a $mdec($2-) }
  if ($readini $mircdirver.ini Shitonoff $address($nick,3) == on) {
    if ($shitchans($address($nick,3)) != *) { goto maybe } | :maybe | if ($shitchans($address($nick,3)) != $chan) { goto regsttext }
    if ($shitchans($address($nick,3)) == $chan) { ban $chan $nick 3 | kick $chan $nick $readini $mircdirver.ini Shitlist $address($nick,3) | halt }
    if ($shitchans($address($nick,3)) == *) { set %lk 0 | :startshit | inc %lk | if (%lk > $channel(0)) { unset %lk | halt } | if ($me isop $comchan($nick,%lk)) { ban $comchan($nick,%lk) $nick 3 | kick $comchan($nick,%lk) $nick $readini $mircdirver.ini Shitlist $address($nick,3) | goto startshit } | else { goto startshit } }
  else { goto regsttext } } | :regsttext
  if ($1 == %fserve) { fserve $nick %maxgets %senddir $mircdirfserve.txt | halt }
  if ($1 == 0,0MaLum) { mdec $2- }
  if (%rpet == on) {
    if (%rep [ $+ [ $address($nick,3) ] ] == $null) { set %rep [ $+ [ $address($nick,3) ] ] Caution | set %rep1 [ $+ [ $address($nick,3) ] ] $strip($1-) | .timer 1 30 /unset %rep* [ $+ [ $address($nick,3) ] ] | halt }
    if (%rep [ $+ [ $address($nick,3) ] ] == Caution) && (%rep1 [ $+ [ $address($nick,3) ] ] == $strip($1-)) { set %rep [ $+ [ $address($nick,3) ] ] Warning | else goto end }
    if (%rep [ $+ [ $address($nick,3) ] ] == Warning) && (%rep1 [ $+ [ $address($nick,3) ] ] == $strip($1-)) { set %rep [ $+ [ $address($nick,3) ] ] Woot | else goto end }
    if (%rep [ $+ [ $address($nick,3) ] ] == Woot) && (%rep1 [ $+ [ $address($nick,3) ] ] == $strip($1-)) { set %rep [ $+ [ $address($nick,3) ] ] Last | else goto end }
    if (%rep [ $+ [ $address($nick,3) ] ] == Last) && (%rep1 [ $+ [ $address($nick,3) ] ] == $strip($1-)) && ($me isop $chan) { kick $chan $nick You repeated " $+ %rep1 [ $+ [ $address($nick,3) ] ] $+ " way too many times! | goto end }
  }
  :end | unset %rep [ $+ [ $address($nick,3) ] ] | unset %rep1 [ $+ [ $address($nick,3) ] ] 
  :swear
  if (%swear == on) && ($me isop $chan) { 
    set %r 0 | set %anum $token(0,32,%filter) | goto startswear
    :startswear | inc %r | if (%r > %anum) { unset %r | unset %anum | goto next2 | halt }
    if ($token(%r,32,%filter) isin $1-) { kick $chan $nick Naughty $nick $+ ! Go sit in the corner for saying " $+ $token(%r,32,%filter) $+ " | halt }
    else goto startswear
  }
  :next2
  if (%ckick == on) {
    if ( isin $1-) { kick $chan $nick Colour usage } | if ( isin $1-) { kick $chan $nick Bold usage }
    if ( isin $1-) { kick $chan $nick Reverse usage } | if ( isin $1-) { kick $chan $nick Underline usage }
  }
  :caps
  if (%cccaps == on) {
    %i = 0 | %caps = 0 | %itok = 0 | unset %text | :nexttoken | inc %itok | %thistok = $token(%itok,32,$1-) | if %thistok == $null { goto doit }
    if (%text == $null) { set %text %thistok } | else { set %text %text $+ %thistok } | goto nexttoken | :doit | %lenotext = $len(%text)
    if (%lenotext < 10) { halt } | if (%lenotext >= 25) { %lenotext = 25 } | :nextlet | inc %i | %thislet = $mid(%i,1,%text)
    if (%i > %lenotext) { unset %i | unset %leno* | unset %thistok | unset %itok* | halt } | if (%thislet == %space) { goto nextlet } | %thisasc = $asc(%thislet) | if ((%thisasc >= 65) && (%thisasc <= 90)) { inc %caps }
    if ((%caps >= 11) || (%caps == %lenotext)) { kick $chan $nick $upper(reach over and press that caps lock key will ya?) | halt }
    goto nextlet
  }
}
on 1:ACTION:*:#: { if ($isme($nick) == $true) { halt } | else { echo 6 $chan 4* 10 $+ $nick $+  6 $+ $1- $+  | halt } }
on 1:ACTION:*:?: { if ($isme($nick) == $true) { halt } | else { echo 6 $nick 4* 10 $+ $nick $+  6 $+ $1- $+  | halt } } 
#text end
#colormsg off
on 1:TEXT:*:?: { echo %c -a < $+  $+ %c2 $+  $+ $nick $+  $+ %c3 $+ / $+  $+ MSG $+  $+ >  $+  $+ %c2 $+ $1- $+  | halt }
#colormsg end
on 1:CTCPREPLY:*: {
  if ($1 == VERSION) { goto start45 }
  if ($1 == USERINFO) { goto start45 }
  if ($1 == FINGER) { goto start45 }
  if ($len($2-) != $len($ctime)) {
    if ($len($2-) > 70) { echo 6 -s [ $+ $nick ( $+ $address $+ ) 2Fake $1 reply] $2- | halt }
    else { echo 6 -s [ $+ $nick ( $+ $address $+ ) 2Fake $1 reply] $2- | halt }
  halt }
  if ($1 == PING) {
    if ($nick == $me) goto me 
    if ($nick != $me) && (%pingkick == off) || (%pingkick == $null) { set %pingtim $ctime - $2 | goto no }
    if (%pingkick == on) && ($me isop $chan) {
      set %pingtime [ $+ [ $nick ] ] $ctime - $2
      if (%pingtime [ $+ [ $nick ] ] >= 5) { kick $chan $nick $duration(%pingtime [ $+ [ $nick ] ]) second(s) have been detected on you! | goto stop }
      else goto stop
    } | :me | set %pingmetime $ctime - $2
    if (%pingmetime >= 5) { echo 3 -a 3MaLum $duration(%pingmetime) of lag have been detected on you! 3MaLum | unset %pingtimeme | halt }
    else { 
      echo 3 -s [ $+ $me ( $+ $address $+ ) PING reply] $duration(%pingmetime)  
      unset %pingmetime | halt  
    }
    :stop | echo 3 -s [ $+ $nick ( $+ $address $+ ) PING reply] $duration(%pingtime [ $+ [ $nick ] ]) | unset %pingmetime | unset %pingtime [ $+ [ $nick ] ] | halt
    :no | echo 3 -s [ $+ $nick ( $+ $address $+ ) PING reply] $duration(%pingtim) | unset %pingtim | halt
  }
  :start45 | if ($nick == $me) { goto me1 }
  else echo 3 -s [ $+ $nick ( $+ $address $+ ) $upper($1) reply] $2- | halt
  :me1
}
#mf off
on 1:SERVEROP:#: {
  if ($me isop $chan) { if (%serop == on) { mode $chan -o $opnick }
  if (%serop == off) { halt } } | else goto end | :end
}
on 1:SERVERDEOP:#: { if ($me isop $chan) { if (%serdeop == on) { mode $chan +o $nick } | if (%serdeop == off) { halt } } | else goto end | :end }
#mf end
#fileserver off
on 1:SERV:*: {
  if ($1 == get) { 
    if (%leech [ $+ [ $address($nick,1) ] ] == on) { dcc send $nick $cd [ $+ [ \ [ $+ [ $2 ] ] ] ] | /msg =$nick No credits were taken away because you have Leech access! | halt }
    if (%senderror [ $+ [ $address($nick,3) [ $+ [ $cd [ $+ [ \ [ $+ [ $2 ] ] ] ] ] ] ] ] == on) { msg =$nick Re-sending $2 $+ ... | dcc send $nick $cd [ $+ [ \ [ $+ [ $2 ] ] ] ] | halt }
    if (%credsend [ $+ [ $address($nick,3) ] ] >= $lof($2)) { /dcc send $nick $cd [ $+ [ \ [ $+ [ $2 ] ] ] ]  | halt } 
    else { msg =$nick 2*** Sorry! $2 is $lof($2) and you only have %credsend [ $+ [ $address($nick,3) ] ] bytes of download credit! Please upload to get more! | unset %lof | halt } 
    if (%credsend [ $+ [ $address($nick,3) ] ] < $lof($2)) { msg =$nick Sorry, You don't have enough credits to get $2 $+ ! | halt }
  }
  if ($1 == read) { msg =$nick $rcaps(Don't you think you should download the file before you look at it???) | unset %rcaps | halt }
  if ($1 == credits) && ($2 == $null) { 
    if (%leech [ $+ [ $address($nick,1) ] ] == on) { msg =$nick You have 12LEECH access! | halt }
    else { msg =$nick You have %credsend [ $+ [ $address($nick,3) ] ] bytes of download credits! If you would like more then please send me a file! | halt } 
  }
  if ($1 == info) && ($2 == $null) { msg =$nick $me is using the MaLum v $+ $ver fileserver by PyroMan! | msg =$nick This script isn't just a fileserver ya know! Get it at http://www.mindspring.com/~rcnash/solaris/malum/malum.zip | halt }
  if ($1 == games) && ($2 == $null) { msg =$nick 3GaMeS: | msg =$nick The games you can choose from are... | msg =$nick 1. !Startnum - Type this to play a guess the number game to win credits! | halt }
  if ($1 == version) && ($2 == $null) { msg =$nick 3Fserve Version: -=DUST=- | msg =$nick 3Script Version: MaLum v $+ $ver | halt }
  if ($1 == !Startnum) && ($2 == $null) { set %rnum $r(1,50)  | set %trys [ $+ [ $nick ] ] 0 | set %gnick $nick | msg =$nick I'm thinking of a number between 1-50! You have 10 trys to guess the answer! | msg =$nick Please place your bet by typing !Gbet <money> | halt } 
  if ($1 == !Gbet) && ($nick == %gnick) {
    if (%credsend [ $+ [ $address($nick,3) ] ] > $2) { msg =$nick Now taking away $2 bytes of credit from bet! | /msg =$nick If you win you get DOUBLE this amount back! | /set %gbet [ $+ [ $nick ] ] $2 | /dec %credsend [ $+ [ $address($nick,3) ] ] $parm2 | msg =$nick Please type !guess <number> to guess the number! | halt }
    if (%credsend [ $+ [ $address($nick,3) ] ] < $2) { msg =$nick You don't have that much amount to bet! | /msg =$nick You have %credsend [ $+ [ $address($nick,3) ] ] bytes to bet! | unset %gbet [ $+ [ $nick ] ] | unset %trys [ $+ [ $nick ] ] | unset %rnum [ $+ [ $nick ] ] | halt }
    halt
  }
  if ($1 == !Guess) && ($nick == %gnick) { inc %trys [ $+ [ $nick ] ]  | if (%trys [ $+ [ $nick ] ] == 10) { msg =$nick Sorry you're out of trys! The correct answer was %rnum [ $+ [ $nick ] ] $+ ! Now taking %gbet [ $+ [ $nick ] ] bytes of credit AWAY from your account! | /dec %credsend [ $+ [ $address($nick,3) ] ] %gbet [ $+ [ $nick ] ] | unset %gbet [ $+ [ $nick ] ] | unset %trys [ $+ [ $nick ] ] | unset %rnum | halt }
    if ($2 > %rnum) { msg =$nick Guess lower! | halt } | if ($2 < %rnum) { msg =$nick Guess higher! | halt }
    if ($2 == %rnum) { msg =$nick You're right! | /inc %credsend [ $+ [ $address($nick,3) ] ] %gbet [ $+ [ $nick ] ] | /inc %credsend [ $+ [ $address($nick,3) ] ] %gbet [ $+ [ $nick ] ] | /msg =$nick You now have %credsend [ $+ [ $address($nick,3) ] ] bytes of download credit! | unset %gbet [ $+ [ $nick ] ] | unset %trys [ $+ [ $nick ] ] | unset %rnum | halt } | halt
  } 
}
on 1:FILERCVD:*: {
  if (%leech [ $+ [ $address($nick,1) ] ] == on) { msg =$nick You have been awarded with 0 credits because you have LEECH access!!! | halt }
  msg =$nick Thanks for $filename $nick $+ ! Now adding $lof($filename) bytes of credit to your account!
  set %lof $lof($filename) | inc %credsend [ $+ [ $address($nick,3) ] ] %lof
  msg =$nick You now have %credsend [ $+ [ $address($nick,3) ] ] bytes of download credit! | unset %lof | halt
}
on 1:FILESENT:*: { 
  if (%senderror [ $+ [ $address($nick,3) [ $+ [ $filename ] ] ] ] == on) { msg = $+ $nick Taking away $lof($filename) credits now! | set %lof $lof($filename) | dec %credsend [ $+ [ $address($nick) ] ] %lof | unset %lof %senderror [ $+ [ $address($nick,3) [ $+ [ $filename ] ] ] ] | msg = $+ $nick You now have %credsend [ $+ [ $address($nick,3) ] ] bytes of download credit left! | halt }
  if (%leech [ $+ [ $address($nick,1) ] ] == on) { msg =$nick Taking away NO credits! } | else { msg =$nick Enjoy $filename $+ ! | set %lof $lof($filename) | msg =$nick Now taking away %lof credits from your account! | dec %credsend [ $+ [ $address($nick,3) ] ] %lof  | msg =$nick You now have %credsend [ $+ [ $address($nick,3) ] ] bytes of download credit left! | halt } 
}
on 1:SERVOPEN: { 
  if (%leech [ $+ [ $address($nick,1) ] ] == on) { msg =$nick You have leech access! Take what you want and Happy shopping! | halt }
  if (%ban [ $+ [ $nick ] ] == $address($nick,1)) { /msg =$nick 4You have been banned from this Fserve $nick $+ ! | /close -f $nick | /.ignore -tu30 $nick 3 | halt }
  if (%credsend [ $+ [ $address($nick,3) ] ] == $null) { /msg =$nick Since this is your first time using the MaLum v $+ $ver Fileserver by PyroMan & KRAkeR I have awarded you with %award bytes of download credit! | /msg =$nick At any time if you run out of credits you can just send me a file to get more! | /set %credsend [ $+ [ $address($nick,3) ] ] %award | halt } 
  if (%credsend [ $+ [ $address($nick,3) ] ] != $null) { msg =$nick Welcome back $nick $+ ! | msg =$nick You currently have %credsend [ $+ [ $address($nick,3) ] ] bytes left in your account! | msg =$nick Happy Shopping!!! | halt }
}
on 1:SERVCLOSE: {
  if (%leech [ $+ [ $address($nick,1) ] ] == on) { msg =$nick Feal free to come back and leech anytime $nick $+ ! | goto endit }
  msg $nick Thanks for trying MaLum v $+ $ver by PyroMan & KRAkeR's Fileserver! 
  if (%credsend [ $+ [ $address($nick,3) ] ] == %award) { msg $nick 4Come on now $nick $+ ! You could of at least downloaded 1 file from me! }
  if (%erasecred == on) { unset %credsend [ $+ [ $address($nick,3) ] ] | goto endit } | if (%erasecred != on) { goto endit } | :endit
  msg $nick Remember this is not just a fileserver! It's all that and a bag of chips so get it at http://www.mindspring.com/~rcnash/solaris/malum/malum.zip | halt
}
on 1:SENDFAIL:*:/set %senderror [ $+ [ $address($nick,3) [ $+ [ $filename ] ] ] ] on | /msg =$nick An error has occured while sending $filename to you! Please try again! | halt
on 1:GETFAIL:*:/msg =$nick An error has occured while retriving $filename from you! Please upload again to recieve your credits! | halt
#fileserver end
#munban off
on 1:UNBAN:#: { if ($isme($nick) == $true) { halt } | inc % [ $+ [ $site [ $+ [ unban ] ] ] ]  | .timer 1 5 /unset % [ $+ [ $site [ $+ [ unban ] ] ] ] 
  if (% [ $+ [ $site [ $+ [ unban ] ] ] ] >= %mnum) && ($me isop $chan) { kick $chan $nick Mass Unban/Desynch Detected! }
}
#munban end
; Compliments of "Li0n v3.1 by Li0nHeart" (I DID make SOME changes to it...)
#checkmail off
on +663:CHATOPEN: { .creq ask | set %mail.usergiven done | msg = $+ $me USER %pop.user | msg = $+ $me PASS %pop.pass | unset %pop.pass | query MaLum Mail Checker | echo 6 MaLum Mail Checker Welcome to the 12,4MaLum Mail Checker | echo 2 MaLum Mail Checker - | echo 2 MaLum Mail Checker *** Connecting to %pop.host | echo 2 MaLum Mail Checker - | :end } 
on +663:CHAT:*: {
  if ($1 == +OK) {
    if ($3 == POP3) { echo 1 MaLum Mail Checker *** Connected to $2 | echo 2 MaLum Mail Checker - }
    if (($2 == Mailbox) && ($3 == open,)) {
      if ($4 > 0) { echo 4 MaLum Mail Checker $4 message(s) await for %pop.user $+ ! | splay $mircdirgotmail.wav | msg = $+ $me LIST | set %mail.messages $4 | if (%autoget == on) { set %mail.counter 1 | getmail | .timer653 0 5 getmail } }
    else { echo 6 MaLum Mail Checker You have no new mail | msg = $+ $me quit } }
    if ($3 == messages) {
      if ($2 > 0) { echo 4 MaLum Mail Checker $2 message(s) await in %pop.user $+ 's mailbox! | splay $mircdirgotmail.wav | set %mail.messages $2 | if (%autoget == on) { set %mail.counter 1 | getmail | .timer653 0 5 getmail } }
  else { echo 4 MaLum Mail Checker You have no new mail | msg = $+ $me quit } } }
  elseif ($1 == X-Authentication-Warning:) || ($1 == status:) || ($1 == X-Mailer:) { halt }
  elseif ($1 == received:) || ($1 == comments:) || ($1 == Received:) || ($1 == Priority:) { halt }
  elseif (($1 == id:) || ($1 == Message-Id:) || ($1 == Content-Type:) || ($1- == .)) { halt }
  elseif ($1 == -ERR) { 
    if ($2 == Bad) && ($3 == login) { echo 12 MaLum Mail Checker *** Error: $2- | msg = $+ $me quit } | else { echo 12 MaLum Mail Checker *** Error: $2- } 
  elseif ($1- == $null) { echo 3 MaLum Mail Checker - - } | elseif ($1 isnum) { echo 2 MaLum Mail Checker Message $chr(35) $+ $1 - $2 bytes } | else { echo 5 MaLum Mail Checker - - $1- } }
}
on +663:CHATCLOSE: { echo 1 MaLum Mail Checker - | echo 4 MaLum Mail Checker *** Disconnected | echo 4 MaLum Mail Checker - | echo 6 MaLum Mail Checker 12Compliments of "Li0n v3.1 by Li0nHeart" | .disable #checkmail | .close -q MaLum Mail Checker | unset %mail.messages %mail.counter %mail.usergiven | .ruser 663,662,661,660 $me }
#checkmail end
#emailb off
on +661:CHATOPEN: { msg = $+ $me HELO $str(10,$r($r(1,9),$r(1,100))) 
  set %pkj 0 | :start | inc %pkj | if (%pkj > %emailb.many) { /unset %emailb.* | /.ruser 660,661,662 $me | /.disable #emailb | .timer 1 5 /close -c $me | echo 2 -a *** Done email bombing! | halt }
  msg = $+ $me MAIL FROM: %emailb.from | msg = $+ $me RCPT TO: %emailb.to | msg = $+ $me DATA | msg = $+ $me %emailb.data | msg = $+ $me . | goto start
}
#emailb end
#mailer off
on +660:CHATOPEN:/msg = $+ $me HELO MaLum.is.the.best.com | /msg = $+ $me MAIL FROM: %email.from | /msg = $+ $me RCPT TO: %email.to | /msg = $+ $me DATA | /msg = $+ $me Subject: %email.topic | /msg = $+ $me %email.data | /msg = $+ $me .
on +660:CHAT:250 Message received*:/cls | /echo 4 -a Done sending mail to: %email.to $+ ! | close -c $me 
on +660:CHATCLOSE:/unset %email.* | /.ruser 660,661,662,663 $me | /.disable #mailer | /.disable #emailb 
#mailer end
#rawclone off
on +662:CHATOPEN:/msg = $+ $me user MaLum MaLum MaLum MaLum | /msg = $+ $me nick MaLum 
on +662:CHAT:PING *:/msg = $+ $me PONG : $+ $remove($2,:)
on +662:CHAT:*Nick*Name*in*use.:/msg = $+ $me nick $rand(r,z) $+ s $+ $r(1,20) $+ $rand(A,Z) $+ $r(a,r)
on +662:CHATCLOSE:/.ruser 663,662,661,660 $me | /.disable #rawclone
#rawclone end 
#ffdns off
on 1:CHATOPEN:/.creq ask | /msg = $+ $me %ff.msg | close -c $me
on 1:CHATCLOSE:/unset %ff.* | .disable #ffdns | echo 4 -a *** Fake finger has been sucessfully sent! | .disable #ffdns 
#ffdns end
#coolmsgs off
on 1:TEXT:*:?:/if ($window(2) != @MSGS@) { window -ae @MSGS@ 500 300 520 340 /msg msgs.pop | goto start } | :start | aline -c2 @MSGS@ - | echo 1 @MSGS@ $timestamp $nick ( $+ $address($nick,2) $+ ) $+ : $1- | halt
#coolmsgs off
